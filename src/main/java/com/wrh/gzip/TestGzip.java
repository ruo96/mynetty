package com.wrh.gzip;

import com.alibaba.fastjson.JSON;
import org.junit.Test;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.HashSet;
import java.util.Set;

/**
 * @Created by wrh
 * @Description:
 * @Date: Created in 下午 3:38 2019/9/16 0016
 * @Modified By:
 */
public class TestGzip {

    @Test
    public void test(){
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < 10; i++) {
            sb.append("代码笔记：www.note52.com");
        }
//        String str = sb.toString();


        String filePath = "e:\\file\\gzip3.txt";
        Set<String> set = new HashSet<>();
        try (FileReader fileReader = new FileReader(filePath);
             BufferedReader br = new BufferedReader(fileReader)) {
            String line;
            while ((line = br.readLine()) != null) {
                set.add(line);

            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        String str = JSON.toJSONString(set);
//        String str = "{\"isFocusImage\":false,\"imageUrl\":[],\"newMode\":true,\"modeList\":[{\"stageId\":131,\"stageName\":\"基本信息\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":278,\"propertyName\":\"产品名称\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":393,\"propertyName\":\"0819电话\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":432,\"propertyName\":\"净含量\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":433,\"propertyName\":\"产品执行标准号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":434,\"propertyName\":\"产品类别\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":435,\"propertyName\":\"原料盐名称及产地\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":436,\"propertyName\":\"配料表及其含量\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":437,\"propertyName\":\"营养成分表\",\"defaultValue\":\"\",\"dataType\":9,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":438,\"propertyName\":\"生产工艺\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":440,\"propertyName\":\"存储条件\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":441,\"propertyName\":\"保质期\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":448,\"propertyName\":\"食用方法\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":449,\"propertyName\":\"温馨提示\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":450,\"propertyName\":\"产品检测结果及产品等级\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":451,\"propertyName\":\"特殊人群适宜性\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]},{\"stageId\":178,\"stageName\":\"包装打印\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":453,\"propertyName\":\"印刷时间\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":454,\"propertyName\":\"操作人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":455,\"propertyName\":\"操作人工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":456,\"propertyName\":\"打印机喷头编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":457,\"propertyName\":\"扫码器编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":458,\"propertyName\":\"班组号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":459,\"propertyName\":\"班组负责人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":460,\"propertyName\":\"产线名称\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":461,\"propertyName\":\"产线编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":462,\"propertyName\":\"大码卷编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":463,\"propertyName\":\"小码卷编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]},{\"stageId\":109,\"stageName\":\"原料追溯\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":248,\"propertyName\":\"原辅料名称\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":249,\"propertyName\":\"原辅料检验结果\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":526,\"propertyName\":\"原料规格\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":527,\"propertyName\":\"原料批次\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":528,\"propertyName\":\"原料数量\n" +
//                "\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":529,\"propertyName\":\"投料操作人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":530,\"propertyName\":\"投料点\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":531,\"propertyName\":\"投料时间\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]},{\"stageId\":179,\"stageName\":\"生产灌装\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":464,\"propertyName\":\"产线名称\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":465,\"propertyName\":\"产线编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":466,\"propertyName\":\"班组负责人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":467,\"propertyName\":\"班组编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":468,\"propertyName\":\"操作人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":469,\"propertyName\":\"生产日期\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":470,\"propertyName\":\"生产班组批次号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":532,\"propertyName\":\"包装比例\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":533,\"propertyName\":\">是否加碘\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":577,\"propertyName\":\"企业编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":578,\"propertyName\":\"生产企业\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":582,\"propertyName\":\"生产地\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":583,\"propertyName\":\"电话\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":584,\"propertyName\":\"生产许可证编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":585,\"propertyName\":\"企业信用等级\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]},{\"stageId\":180,\"stageName\":\"入库环节\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":471,\"propertyName\":\"仓储管理员\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":472,\"propertyName\":\"操作人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":473,\"propertyName\":\"操作人工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":474,\"propertyName\":\"叉车编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":475,\"propertyName\":\"叉车司机姓名\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":476,\"propertyName\":\"叉车司机工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":477,\"propertyName\":\"托盘编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":478,\"propertyName\":\">库位编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":479,\"propertyName\":\"入库时间\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]},{\"stageId\":181,\"stageName\":\"移库环节\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":480,\"propertyName\":\"仓库管理员\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":481,\"propertyName\":\"操作人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":482,\"propertyName\":\"操作人工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":483,\"propertyName\":\"移库叉车编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":484,\"propertyName\":\"移库叉车司机工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":485,\"propertyName\":\"移库叉车司机姓名\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":486,\"propertyName\":\"移库通道门编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":487,\"propertyName\":\"移库时间\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":488,\"propertyName\":\"目标仓库\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":489,\"propertyName\":\"目标库位\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":490,\"propertyName\":\"目标托盘\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":491,\"propertyName\":\"目前通道门编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]},{\"stageId\":182,\"stageName\":\"出库环节\",\"isON\":false,\"oN\":\"\",\"isFS\":false,\"mode\":\"1\",\"children\":[{\"propertyId\":492,\"propertyName\":\"出库单单号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":493,\"propertyName\":\"出库数量\n" +
//                "\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":494,\"propertyName\":\"出库单位\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":495,\"propertyName\":\"仓库管理员\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":496,\"propertyName\":\"出库操作人\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":497,\"propertyName\":\"出库操作人工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":498,\"propertyName\":\"出库叉车编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":499,\"propertyName\":\"出库叉车司机姓名\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":500,\"propertyName\":\"出库叉车司机工号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":501,\"propertyName\":\"出库托盘编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":502,\"propertyName\":\"出库库位编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":503,\"propertyName\":\"出库通道门编号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":504,\"propertyName\":\"出库时间\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":505,\"propertyName\":\"质检单url\",\"defaultValue\":\"\",\"dataType\":11,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":506,\"propertyName\":\"运输目的地\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":507,\"propertyName\":\"收货单位\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false},{\"propertyId\":508,\"propertyName\":\"运送车车牌号\",\"defaultValue\":\"\",\"dataType\":4,\"isON\":false,\"oN\":\"\",\"isHi\":false}]}]}";
        System.out.println("set length is : {}"+ str);

        System.out.println("原长度：" + str.length());

        System.out.println("压缩后长度：" + GzipUtils.compress(str).length());
        String compress = GzipUtils.compress(str);
        System.out.println("压缩后内容：" + compress);
        System.out.println("解压后内容：" + GzipUtils.uncompress(compress));
    }
}
